---
title: "PTT Analysis of Entrance Exam Scores in Taiwan"
subtitle: "A Statistical Approach with R Code"
author:
  - Christine P. Chai
  - Microsoft
  - cpchai21@gmail.com
date: \today
output: 
        pdf_document:
                number_sections: true
                citation_package: natbib
header-includes: 
  - \renewcommand{\and}{\\}
bibliography: references.bib
biblio-style: apalike
link-citations: yes
---

\renewcommand{\cite}{\citep}

```{r latex-cite-command, include=FALSE}
# %\let\cite\citep
# % from \citep to \cite to cite in author style, e.g. [Mule, 2008]

# % \bibliographystyle{plainnat}
# %\citep: citation in parentheses, e.g. [Mule, 2008]
# %\citet: citation as author, e.g. Mule [2008]
# %\cite: citation as author, \citet by default 
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Ongoing work since 2019.

# Executive Summary {.unnumbered}

\textcolor{red}{Write something here}

# Disclaimer {.unnumbered}

The opinions and views expressed in this manuscript are those of the author and do not necessarily state or reflect those of Microsoft. The author has a statistics and engineering background, without any training in middle school or high school teaching.

# Introduction {#intro}

\section*{\textcolor{red}{Unfinished below}}

Consider making the introduction statistics-oriented, because we would like to focus on the statistical methodology. Most important is how to handle a real-time application problem.  

State this project as open-source and provide the GitHub link somewhere in the manuscript. Note that the name of GitHub repo may be changed later.  

Edit the paragraph of this manuscript's structure! Use cross-references for each chapter.  

\section*{\textcolor{red}{Unfinished above}}  

```{r include-intro, child = '01-Introduction.Rmd'}
```

The author grew up in Taiwan, so we are curious about the relationship between the high school entrance exam score percentiles and the college entrance scores in Taiwan. It seems obvious that a greater percentage of students from top high schools get admitted to prestigious universities.^[<https://bit.ly/2JSPXKc>]  However, the high school entrance exam is much easier than the college entrance exam, so some people studied little in middle school and was able to get into a good high school. Then some of these people kept studying little and ended up with a bad score on the college entrance exam. On the other hand, we have also seen some students from mediocre high schools studied very hard, and eventually earned a stellar score in the college exam. Therefore, we decided to gather data and create our own analysis.  

\section*{\textcolor{red}{Unfinished below}}  

\textcolor{red}{lots of citations needed}  

The Taiwan government publishes aggregated data on high school entrance exam scores and college entrance exam scores separately, but does not link between the two sets of data. Therefore, we obtained self-reported data from an existing post^[<https://www.ptt.cc/bbs/SENIORHIGH/M.1432729401.A.995.html>] in 2015 on PTT, the largest terminal-based bulletin board in Taiwan. Each of the 197 rows of the data contains an anonymous ID, high school entrance exam score (in the form of percentile rank), and college entrance exam score. Since PTT has been advertised to a wide range of college campuses, many college students as of 2015 were using PTT. Hence the PTT data could be assumed to be diverse, i.e., from people with different levels of academic achievements.    

The goal of writing this manuscript is to demonstrate how to perform data analysis in `R` using real-life data with a reproducible workflow. The target audience would be people with a basic understanding of statistics, equivalent to taking or having completed Statistics 101. We start from collecting the data, preprocessing the data, exploratory analysis, and finally define a problem statement that can be answered by the data. Then we build the statistical model, validate the results, and provide our interpretations. In this way, readers can follow the step-by-step instructions in this small-scale data science project.  

\section*{\textcolor{red}{Unfinished above}}  

The rest of this manuscript is organized as follows. Chapter \ref{background} gives an overview of the high school and college entrance exams in Taiwan, and Chapter \ref{data} provides the description of our dataset. In Chapter \ref{eda}, we start the technical content with exploratory data analysis, in order to identify and visualize the distribution of exam scores. Then in Chapter \ref{linear-reg} we try the linear regression and explain whether this model is appropriate or not. Chapter \ref{explore-top} further examines the top scorers, because they typically came from prestigious high schools and/or colleges. In Chapter \ref{logit-reg}, we modify the problem statement to binary outcomes and implement the logistic regression. Then we perform in-sample validation in Chapter \ref{validation} and out-of-sample validation in Chapter \ref{out-of-sample}. After the model validation is complete, we provide a recap of the project in Chapter \ref{recap} and recommend resources for learning in Chapter \ref{resources}. Finally, we state some personal remarks in Chapter \ref{personal-remarks}.  


# Background {#background}

\section*{\textcolor{red}{Unfinished below}}

Elaborate on the following to enhance the background context:

- Starting in 2019, high school students are required to maintain a portfolio each semester to document their learning outcomes.^[<https://www.108epo.com/courses.php>]

- College entrance exam GSAT and AST: New rules in 2022 (not related to COVID)

- COVID-related rules for students who could not attend the exam  
Start writing about 2021 for both exams, because 2022 is still ongoing  

\textcolor{red}{This is the file we want to move content into.}  

\section*{\textcolor{red}{Unfinished above}}

```{r include-background, child = '02-Background.Rmd'}
```

# Data Description {#data}

\section*{\textcolor{red}{Unfinished below}}

Add the new PTT image and state **when** the registration restrictions were removed.  

Note that from 2018 to 2021, PTT limited new account registrations to only people with an email address from National Taiwan University.^[Screenshot obtained on May 26, 2020: <https://imgur.com/33fwrGH>]   

The good news is that this restriction has been removed.^[Screenshot obtained on February 5, 2022: <https://imgur.com/kaTsRpn>] As of 2022, anyone can register for an account on PTT with email^[<https://www.techbang.com/posts/88695-ptt-registration>] or mobile phone authentication^[<https://free.com.tw/ptt-id-registration-aotp/>].  

Also, list several mobile apps for readers to access PTT on a smart phone. Common apps include BePTT, Mo PTT, JPTT, and PiTT.  

\textcolor{red}{This is the file we want to move content into.}  

\section*{\textcolor{red}{Unfinished above}}

```{r include-data-description, child = '03-Data-Description.Rmd'}
```

# Exploratory Data Analysis {#eda}

```{r include-exploratory, child = '04-Exploratory.Rmd'}
```

# Linear Regression {#linear-reg}

```{r include-linear-reg, child = '05-Linear-Regression.Rmd'}
```

# Top Scorers: A Closer Look {#explore-top}

\section*{\textcolor{red}{Unfinished below}}  

Bivariate exploration subsection:  

Add my thoughts about categorical data analysis (e.g. proportional hazards model?!)  

\textcolor{red}{Add chi-squared test to quantify the level of significance}^[<https://data-flair.training/blogs/chi-square-test-in-r/>]      

What about ROC and AUC (area under the curve) with various probability thresholds?  

\textcolor{red}{This is the file we want to move content into.}  

\section*{\textcolor{red}{Unfinished above}}  

```{r include-linear-reg, child = '06-Top-Scorers.Rmd'}
```

# Logistic Regression {#logit-reg}

```{r include-logit-reg, child = '07-Logistic-Regression.Rmd'}
```

# Model Validation: In-Sample Prediction {#validation}

```{r include-in-sample-00, child = '08-In-Sample-00-Foreword.Rmd'}
```

## Implementation of In-Sample Prediction {#in-sample}

```{r include-in-sample-01, child = '08-In-Sample-01-Implementation.Rmd'}
```

## Interpretation of Confusion Matrix {#interpretation}

```{r include-in-sample-02, child = '08-In-Sample-02-Confusion-Matrix.Rmd'}
```

## Breakdown by High School Entrance Exam Scores {#another-breakdown}

```{r include-in-sample-03, child = '08-In-Sample-03-Score-Breakdown.Rmd'}
```

# Model Validation: Out-of-Sample Prediction {#out-of-sample}

```{r include-out-sample-00, child = '09-Out-Sample-00-Foreword.Rmd'}
```

## Separate Training and Testing Datasets

```{r include-out-sample-01, child = '09-Out-Sample-01-Sep-Explain.Rmd'}
```

### Implementation {#train-test-demo}

```{r include-out-sample-02, child = '09-Out-Sample-02-Sep-Implement.Rmd'}
```

### Organizing the Code for Reusability

```{r include-out-sample-03, child = '09-Out-Sample-03-Sep-Organize.Rmd'}
```

## Cross Validation

```{r include-out-sample-04, child = '09-Out-Sample-04-Cross-Validation.Rmd'}
```

### K-fold Cross Validation

```{r include-out-sample-05, child = '09-Out-Sample-05-K-Fold.Rmd'}
```

### Leave-one-out Cross Validation

```{r include-out-sample-06, child = '09-Out-Sample-06-Leave-One-Out.Rmd'}
```

## Comparison of Results {#cmp-results}

```{r include-out-sample-07, child = '09-Out-Sample-07-Comparison-Results.Rmd'}
```

# Recap of the Project {#recap}

```{r include-project-recap, child = '10-Project-Recap.Rmd'}
```

# Recommended Resources for Learning {#resources}

```{r include-additional-resources, child = '11-Additional-Resources.Rmd'}
```

# Final: Personal Scores and Remarks {#personal-remarks}

```{r include-personal, child = '12-Personal-Scores-Remarks.Rmd'}
```

# Acknowledgments {.unnumbered}

The author would like to thank Dr. Mine Cetinkaya-Rundel and Dr. David Banks at Duke University; they both motivated the author to teach statistics and create reproducible work in $\mathsf{R}$. The author is also grateful to her Microsoft colleagues Smit Patel and Dylan Stout for troubleshooting GitHub issues.  

The author would also like to acknowledge Dr. Cliburn Chan and Dr. Janice McCarthy for introducing her to GitHub in the statistical computation course at Duke University. This provided her the foundations to use GitHub as a modern version control system in the first place.  

Finally, the author gives a special mention to her significant other, Hugh Hendrickson, for all his support in the author's professional career development.



# References {.unnumbered #references}