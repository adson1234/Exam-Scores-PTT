---
title: "PTT Analysis of Entrance Exam Scores in Taiwan"
subtitle: "A Statistical Approach with R Code"
author:
  - Christine P. Chai
  - Microsoft
  - cpchai21@gmail.com
date: \today
output: 
        pdf_document:
                number_sections: true
                citation_package: natbib
header-includes: 
  - \renewcommand{\and}{\\}
bibliography: references.bib
biblio-style: apalike
link-citations: yes
---

\renewcommand{\cite}{\citep}

```{r latex-cite-command, include=FALSE}
# %\let\cite\citep
# % from \citep to \cite to cite in author style, e.g. [Mule, 2008]

# % \bibliographystyle{plainnat}
# %\citep: citation in parentheses, e.g. [Mule, 2008]
# %\citet: citation as author, e.g. Mule [2008]
# %\cite: citation as author, \citet by default 
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Ongoing work since 2019.

# Executive Summary {.unnumbered}

\textcolor{red}{Write something here}

## Disclaimer {.unnumbered}

The opinions and views expressed in this manuscript are those of the author and do not necessarily state or reflect those of Microsoft. The author has a statistics and engineering background, without any training in middle school or high school teaching.

# Introduction {#intro}

\textcolor{red}{Consider making the introduction statistics-oriented, because we would like to focus on the statistical methodology. Most important is how to handle a real-time application problem.}  

\textcolor{red}{State thie project as open-source and provide the GitHub link somewhere in the manuscript.} 

```{r include-intro, child = '01-Introduction.Rmd'}
```

# Background {#background}

\section*{\textcolor{red}{Unfinished below}}

Elaborate on the following to enhance the background context:

- High school entrance exam in 2014 and later  
Scores: C, B, B+, B++, A, A+, A++ with independent essay (0-6)

- College entrance exam GSAT: List the five subjects

- College entrance exam GSAT and ACT: New rules in 2022 (not related to COVID)

- COVID-related rules for students who could not attend the exam  
Start writing about 2021 for both exams, because 2022 is still ongoing

\section*{\textcolor{red}{Unfinished above}}

```{r include-background, child = '02-Background.Rmd'}
```

# Data Description {#data}

```{r include-data-description, child = '03-Data-Description.Rmd'}
```

# Exploratory Data Analysis {#eda}

\section*{\textcolor{red}{Unfinished below}}   

Write something more to this section, especially the foreword.  

```{r include-exploratory, child = '04-Exploratory.Rmd'}
```

# Linear Regression {#linear-reg}

```{r include-linear-reg, child = '05-Linear-Regression.Rmd'}
```

# Top Scorers: A Closer Look {#explore-top}

```{r include-linear-reg, child = '06-Top-Scorers.Rmd'}
```

# Logistic Regression {#logit-reg}

```{r include-logit-reg, child = '07-Logistic-Regression.Rmd'}
```

# Model Validation: In-Sample Prediction {#validation}

```{r include-in-sample-00, child = '08-In-Sample-00-Foreword.Rmd'}
```

## Implementation of In-Sample Prediction {#in-sample}

```{r include-in-sample-01, child = '08-In-Sample-01-Implementation.Rmd'}
```

## Interpretation of Confusion Matrix {#interpretation}

```{r include-in-sample-02, child = '08-In-Sample-02-Confusion-Matrix.Rmd'}
```

## Breakdown by High School Entrance Exam Scores

```{r include-in-sample-03, child = '08-In-Sample-03-Score-Breakdown.Rmd'}
```

# Model Validation: Out-of-Sample Prediction {#outsample}

```{r include-out-sample-00, child = '09-Out-Sample-00-Foreword.Rmd'}
```

## Separate Training and Testing Datasets

```{r include-out-sample-01, child = '09-Out-Sample-01-Sep-Explain.Rmd'}
```

### Implementation {#train-test-demo}

```{r include-out-sample-02, child = '09-Out-Sample-02-Sep-Implement.Rmd'}
```

### Organizing the Code for Reusability

```{r include-out-sample-03, child = '09-Out-Sample-03-Sep-Organize.Rmd'}
```

## Cross Validation

```{r include-out-sample-04, child = '09-Out-Sample-04-Cross-Validation.Rmd'}
```

### K-fold Cross Validation

```{r include-out-sample-05, child = '09-Out-Sample-05-K-Fold.Rmd'}
```

### Leave-one-out Cross Validation

```{r include-out-sample-06, child = '09-Out-Sample-06-Leave-One-Out.Rmd'}
```

## Comparison of Results

```{r include-out-sample-07, child = '09-Out-Sample-07-Comparison-Results.Rmd'}
```

\section*{\textcolor{red}{Unfinished below}}

\textcolor{red}{Continue to separate this enormous \texttt{.Rmd} into smaller files.}

# Discussion and Conclusion

\section*{\textcolor{red}{Unfinished below}}   

Add a summary of our thought process in performing the data analysis  

From data collection to meaningful insights  

Ideas to elaborate on:

- Data preprocessing (data cleaning)  

- The importance of exploratory data analysis (link to Section)

- In-sample prediction vs out-of-sample prediction  

- Accuracy, precision, recall, FPR, FNR + extreme data situations

- Good coding practices: user-defined functions, descriptive variable names, and helpful comments in code

Incorporated already:

- What we can do when the data do not satisfy the assumptions for linear regression  

- Problem formulation (into a binary prediction task)  



In addition to statistical concepts, we also demonstrated:  

machine learning, good coding practices, etc. Add something more!

Don't just list statistics resources. Need to have a context-specific discussion!  

\section*{\textcolor{red}{Unfinished below}}  

The Statistics 101 course provides a starting point for students to perform data analysis, and this manuscript is a detailed example of a project from data collection to meaningful insights. We obtained small-scale data that are publicly available, and articulated our thought process in the step-to-step execution.  

What else did we demonstrate in this manuscript?  

Elaborate on this statement above  

Our original problem is to find the relationship between high school entrance exam scores and college entrance exam scores. The exploratory analysis in Chapter \ref{eda} shows a moderate positive association between the two sets of scores, with the correlation coefficient 0.50. However, this does not necessarily mean that the linear regression is the most appropriate model. Linear regression is widely used, but it is not a panacea for data analysis. Chapter \ref{linear-reg} states the four assumptions to be met in linear regression: linearity, nearly normal residuals, constant variability, and independent observations. When these assumptions are violated, we should not use the linear regression model.  

The good news is that we can continue the data analysis through several ways:

- Transform the data to meet the assumption requirements

- Choose another model to investigate the relationship between the two variables

- Reformulate the problem and answer a different question from the data

In Chapter \ref{logit-reg}, we reformulated the problem to: Given a student's high school entrance exam score, estimate the probability of getting a college entrance exam score of at least 65. This statement binarizes the outcome of college entrance exam scores, so we discovered the relationship of the two variables in a different way. Sections \ref{logit-point-est} and \ref{logit-results} show that when the high school entrance exam score increases by one percentile, the odds of "success" increases by about 16.1% on average, i.e., getting a college entrance exam score at least 65. We are 95% confident  that the odds increase is between 10.6% and 22.9%.  

Write something more  

Consider moving the above to an earlier section as transition  

For the next steps in learning statistics, we suggest reading *The Statistical Sleuth: A Course in Methods of Data Analysis* \cite{ramsey2013statistical}, which is the textbook for undergraduate-level regression analysis at Duke Statistical Science.^[<https://www2.stat.duke.edu/courses/Fall18/sta210.001/>] The book covers intermediate topics such as ANOVA (Analysis of Variance) and multiple linear regression. It also provides data files for case studies and exercises.^[<http://www.statisticalsleuth.com/>]  

For the advanced readers, we recommend the following graduate level statistics textbooks:

- *A First Course in Bayesian Statistical Methods* \cite{hoff2009first}

- *Statistical Inference* \cite{casella2021statistical}

- *Categorical Data Analysis* \cite{agresti2003categorical}

There are many other high-quality statistics textbooks, and we selected these as a starting point.  

Write something more

# Final: Personal Remarks

Write something here  

Taipei First Girls' High School^[http://web.fg.tp.edu.tw/~tfghweb/EnglishPage/index.php] typically requires **HighSchool_PR** 99 for admission. There are some exceptions, such as recruited athletes, students with disabilities,^[<http://www.rootlaw.com.tw/LawArticle.aspx?LawID=A040080080001900-1020822>] and students under other extraordinary situations.^[<https://bit.ly/2WtRY63>]  

The Department of Electrical Engineering at National Taiwan University (NTUEE)^[https://web.ee.ntu.edu.tw/eng/index.php] typically requires
full marks (15 out of 15) in English, mathematics, and science in **College_Score** for the early admission.^[https://university.1111.com.tw/univ_depinfo9.aspx?sno=100102&mno=520101] Most students at NTUEE had a **College_Score** of 70 or higher, at the time when 75 was the max possible score. But still a significant number of students got admitted through the regular college entrance exam process in July.  

Finally, include my own scores as a datapoint for prediction.  

\textcolor{red}{Don't show the numbers until I am ready to work on this section!}

# Acknowledgments {.unnumbered}

The author would like to thank her Microsoft colleagues Smit Patel and Dylan Stout for troubleshooting GitHub issues.  

More to add  


# Appendix {.unnumbered}

```{r include-appendix, child = 'Appendix.Rmd'}
```


# References {.unnumbered #references}